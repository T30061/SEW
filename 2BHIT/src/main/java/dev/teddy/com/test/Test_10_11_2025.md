# ðŸ§© UML-Klassendiagramme, Vererbung, Exceptions & Testen in Java

Dieses Dokument fasst die zentralen Konzepte der objektorientierten Programmierung (OOP) in Java zusammen â€” inklusive UML-Diagrammen, Vererbung, Exceptions und automatisierten Tests mit JUnit.

---

## 1. UML-Klassendiagramme

**UML (Unified Modeling Language)** beschreibt den Aufbau von Klassen, deren Attribute, Methoden und Beziehungen zueinander.

### ðŸ”¹ Grundelemente

| Element | Beschreibung | Beispiel |
|----------|---------------|----------|
| **Klasse** | Darstellung von Attributen und Methoden | `+` = public, `-` = private, `#` = protected |
| **Attribute** | Eigenschaften einer Klasse | `- name : String` |
| **Methoden** | Verhalten der Klasse | `+ getName() : String` |

**Beispiel:**

| Person |
| - name : String |
| - alter : int |
| + getName() : String |
| + setName(String) |   


### ðŸ”¹ Beziehungen zwischen Klassen

| Beziehung | Bedeutung | UML-Symbol |
|------------|------------|------------|
| **Assoziation** | â€žHat-eineâ€œ-Beziehung | Linie |
| **Aggregation** | â€žBesteht-ausâ€œ, aber unabhÃ¤ngig | Linie mit leerer Raute â—‡ |
| **Komposition** | â€žBesteht-ausâ€œ, abhÃ¤ngig | Linie mit gefÃ¼llter Raute â—† |
| **Vererbung (Generalisierung)** | â€žIst-einâ€œ-Beziehung | Pfeil mit leerer Spitze â–² |
| **AbhÃ¤ngigkeit** | Eine Klasse nutzt eine andere | gestrichelte Linie mit Pfeil |

---

## 2. Beispielprojekt: â€žBankkonto-Systemâ€œ

Im Folgenden werden alle Konzepte (UML, Vererbung, Exceptions, Tests) in einem durchgehenden Beispiel gezeigt.

---

### ðŸ§­ UML-Diagramm (vereinfacht)

        â–²
        â”‚
  ----------------
|   GiroKonto   |
----------------
| - dispo : double |
| + abheben(double) |
  ----------------
        â–²
        â”‚
  ----------------
|   Konto       |
----------------
| - kontostand : double |
| + einzahlen(double)   |
| + abheben(double)     |
| + getKontostand()     |
  ----------------
        â–²
        â”‚
  ----------------
|  NegativeWertException |
----------------

---

## 3. Vererbung & Methoden in Java

### ðŸ”¹ Basisklasse `Konto`

```java
public class Konto {
    private double kontostand;

    public Konto(double startbetrag) {
        this.kontostand = startbetrag;
    }

    public void einzahlen(double betrag) throws NegativeWertException {
        if (betrag < 0)
            throw new NegativeWertException("Negativer Betrag nicht erlaubt!");
        kontostand += betrag;
    }

    public void abheben(double betrag) throws NegativeWertException {
        if (betrag < 0)
            throw new NegativeWertException("Negativer Betrag nicht erlaubt!");
        if (betrag > kontostand)
            throw new NegativeWertException("Nicht genÃ¼gend Guthaben!");
        kontostand -= betrag;
    }

    public double getKontostand() {
        return kontostand;
    }
}

public class GiroKonto extends Konto {
    private double dispo;

    public GiroKonto(double startbetrag, double dispo) {
        super(startbetrag);
        this.dispo = dispo;
    }

    @Override
    public void abheben(double betrag) throws NegativeWertException {
        if (betrag < 0)
            throw new NegativeWertException("Negativer Betrag nicht erlaubt!");
        if (betrag > getKontostand() + dispo)
            throw new NegativeWertException("Dispo Ã¼berschritten!");
        super.abheben(Math.min(betrag, getKontostand()));
    }
}

public class NegativeWertException extends Exception {
    public NegativeWertException(String message) {
        super(message);
    }
}

public class Main {
    public static void main(String[] args) {
        try {
            GiroKonto konto = new GiroKonto(500.0, 200.0);
            konto.einzahlen(100);
            konto.abheben(700);
            System.out.println("Kontostand: " + konto.getKontostand());
        } catch (NegativeWertException e) {
            System.out.println("Fehler: " + e.getMessage());
        } finally {
            System.out.println("Transaktion abgeschlossen.");
        }
    }
}

Fehler: Dispo Ã¼berschritten!
Transaktion abgeschlossen.

<dependency>
  <groupId>org.junit.jupiter</groupId>
  <artifactId>junit-jupiter-api</artifactId>
  <version>5.10.0</version>
  <scope>test</scope>
</dependency>

import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;

public class KontoTest {

    @Test
    void testEinzahlen() throws NegativeWertException {
        Konto konto = new Konto(100);
        konto.einzahlen(50);
        assertEquals(150, konto.getKontostand());
    }

    @Test
    void testAbheben() throws NegativeWertException {
        Konto konto = new Konto(200);
        konto.abheben(50);
        assertEquals(150, konto.getKontostand());
    }

    @Test
    void testAbhebenMitNegativemBetrag() {
        Konto konto = new Konto(100);
        assertThrows(NegativeWertException.class, () -> konto.abheben(-10));
    }

    @Test
    void testGiroKontoDispo() throws NegativeWertException {
        GiroKonto gk = new GiroKonto(100, 200);
        gk.abheben(250);
        assertEquals(0, gk.getKontostand()); // Konto leer, aber Dispo erlaubt Abhebung
    }
}
